<!-- Header Section End -->
<section id="intro" class="section-intro">
    <div class="overlay">
        <div class="container">
            <div class="main-text">
                <h1 class="header-intro-title">Welcome To <span style="color: #3498DB">Foodbook</span></h1>
                <p class="sub-title">The ultimate guide to best restaurant recommendations for foodies</p>

                <div class="form-group">
                    <input type="text" ng-model="model.searchLocation" ng-change="model.search()" class="form-control" id="location" placeholder="Location: Boston, New York">
                </div>
                <div class="form-group">
                    <input type="text" ng-model="model.searchKeyword" ng-change="model.search()" class="form-control" id="keyword" placeholder="Food Keyword (Optional): sushi, pizza, burger...">
                </div>

                <div class="form-group">
                    <button ng-click="model.search()" class="btn btn-info btn-block"><strong><span class="glyphicon glyphicon-search"></span>&nbsp;&nbsp;Search</strong></button>
                </div>
            </div>
        </div>
    </div>
</section>
<br>

<section ng-if="(model.searchLocation)" id="search-result">
    <div ng-if="model.restaurants.length == 0 && model.searchLocation.length >= 3">
        <h2 class="text-center">No results yet. Please refine your search query.</h2>
    </div>
    <div ng-if="model.restaurants.length >= 0" class="container">
        <div class="panel-group">
            <div ng-repeat="restaurant in model.restaurants" class="panel panel-info">
                <a ng-if = "(model.searchLocation) && (model.searchKeyword)"
                   href="#/restaurant/{{restaurant.id}}/loc/{{model.searchLocation}}/key/{{model.searchKeyword}}">
                    <div class="panel-heading"><h3>{{restaurant.name}}</h3></div>
                    <ul class="list-group panel-body">
                        <div class="row container text-center">
                            <div class="col-sm-3">
                                <img class="img-responsive center-block" ng-src="{{restaurant.image_url}}">
                            </div>
                            <div class="col-sm-3">
                                <h4>Rating:</h4>
                                <img class="img-responsive center-block" ng-src="{{restaurant.rating_img_url}}">
                            </div>
                            <div class="col-sm-3">
                                <h4>Address:</h4>
                                <h5><span ng-repeat="address in restaurant.location.display_address">{{address}}{{$last ? '' : ','}} </span></h5>
                            </div>
                            <div class="col-sm-3">
                                <h4>Contact:</h4>
                                <h5>{{restaurant.display_phone ? restaurant.display_phone : "Not Disclosed"}}</h5>
                            </div>
                        </div>
                    </ul>
                </a>

                <a ng-if = "(model.searchLocation) && !(model.searchKeyword)"
                   href="#/restaurant/{{restaurant.id}}/loc/{{model.searchLocation}}">
                    <div class="panel-heading"><h3>{{restaurant.name}}</h3></div>
                    <ul class="list-group panel-body">
                        <div class="row container text-center">
                            <div class="col-sm-3">
                                <img class="img-responsive center-block" ng-src="{{restaurant.image_url}}">
                            </div>
                            <div class="col-sm-3">
                                <h4>Rating:</h4>
                                <img class="img-responsive center-block" ng-src="{{restaurant.rating_img_url}}">
                            </div>
                            <div class="col-sm-3">
                                <h4>Address:</h4>
                                <h5><span ng-repeat="address in restaurant.location.display_address">{{address}}{{$last ? '' : ','}} </span></h5>
                            </div>
                            <div class="col-sm-3" ng-if="restaurant.display_phone">
                                <h4>Contact:</h4>
                                <h5>{{restaurant.display_phone ? restaurant.display_phone : "Not Disclosed"}}</h5>
                            </div>
                        </div>
                    </ul>
                </a>

            </div>
        </div>
    </div>
</section>